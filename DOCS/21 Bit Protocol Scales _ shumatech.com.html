<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0052)http://www.shumatech.com/web/21bit_protocol?page=0,1 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr" class="js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
<link rel="shortcut icon" href="http://www.shumatech.com/web/sites/default/files/favicon.ico" type="image/x-icon">
<style type="text/css">#cart-block-contents { display: none; }</style>
    <title>21 Bit Protocol Scales | shumatech.com</title>
    <link type="text/css" rel="stylesheet" media="all" href="./21 Bit Protocol Scales _ shumatech.com_files/css_843aeb91cbdaffc95fd2fab9e8f0f0e2.css">
<link type="text/css" rel="stylesheet" media="print" href="./21 Bit Protocol Scales _ shumatech.com_files/css_d0bd1b419304a3bcf79918abd8f4715e.css">
    <script type="text/javascript" src="./21 Bit Protocol Scales _ shumatech.com_files/js_6232f5f42ab1d5dc484c12aec3696ca3.js.Без названия"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/web/", "thickbox": { "close": "Close", "next": "Next \x3e", "prev": "\x3c Prev", "esc_key": "or Esc Key", "next_close": "Next / Close on last", "image_count": "Image !current of !total" } });
//--><!]]>
</script>
    <!--[if lt IE 7]>
      <link type="text/css" rel="stylesheet" media="all" href="/web/sites/all/themes/ShumaTech/fix-ie.css" />    <![endif]-->
  </head>
  <body class="sidebar-left">

<!-- Layout -->
  <div id="header-region" class="clear-block"></div>

    <div id="wrapper">
    <div id="container" class="clear-block">

      <div id="header">
        <div id="logo-floater">
        <h1><a href="http://www.shumatech.com/web/" title=""><img src="./21 Bit Protocol Scales _ shumatech.com_files/ShumaTech_logo.png" alt="" id="logo"></a></h1>        </div>

                  <ul class="links primary-links"><li class="menu-177 first"><a href="http://www.shumatech.com/web/products" title="Products">Products</a></li>
<li class="menu-178"><a href="http://www.shumatech.com/web/support" title="Support">Support</a></li>
<li class="menu-179"><a href="http://www.shumatech.com/web/documentation" title="Documentation">Documentation</a></li>
<li class="menu-180"><a href="http://www.shumatech.com/web/company" title="Company">Company</a></li>
<li class="menu-192"><a href="http://www.shumatech.com/web/store" title="">Store</a></li>
<li class="menu-363 last"><a href="http://www.shumatech.com/web/user" title="">Login</a></li>
</ul>                                  
      </div> <!-- /header -->

              <div id="sidebar-left" class="sidebar">
                    <div id="block-user-1" class="clear-block block block-user">

  <h2>Navigation</h2>

  <div class="content"><ul class="menu"><li class="collapsed first"><a href="http://www.shumatech.com/web/products" title="">Products</a></li>
<li class="leaf last"><a href="http://www.shumatech.com/web/user/password"></a></li>
</ul></div>
</div>
<div id="block-uc_cart-0" class="clear-block block block-uc_cart">

  <h2><a href="http://www.shumatech.com/web/cart"><span class="cart-block-icon-empty" title="View your shopping cart."></span></a><span class="cart-block-title-bar">Shopping cart</span></h2>

  <div class="content"><a href="http://www.shumatech.com/web/cart">View</a> your shopping cart.</div>
</div>
        </div>
      
      <div id="center"><div id="squeeze"><div class="right-corner"><div class="left-corner">
          <div class="breadcrumb"><a href="http://www.shumatech.com/web/">Home</a></div>                              <h2>21 Bit Protocol Scales</h2>                                                  <div class="clear-block">
            <div id="node-225" class="node">



  
  <div class="content clear-block">
    
<h2>
	21 Bit Protocol</h2>
<p>
	<a class="thickbox initThickbox-processed" href="http://www.shumatech.com/web/sites/default/files/images/21bit_protocol_repeat.png" style=""><img alt="" class="floatleft" src="./21 Bit Protocol Scales _ shumatech.com_files/21bit_protocol_repeat.small.png" style="width: 200px; height: 150px;"></a></p>
<p>
	<a class="thickbox initThickbox-processed" href="http://www.shumatech.com/web/sites/default/files/images/21bit_protocol_frame.png" style=""><img alt="" class="floatleft" src="./21 Bit Protocol Scales _ shumatech.com_files/21bit_protocol_frame.small.png" style="width: 200px; height: 150px;"></a></p>
<p>
	<a class="thickbox initThickbox-processed" href="http://www.shumatech.com/web/sites/default/files/images/21bit_protocol_clock.png" style=""><img alt="" class="floatleft" src="./21 Bit Protocol Scales _ shumatech.com_files/21bit_protocol_clock.small.png" style="width: 200px; height: 150px;"></a></p>
<p>
	Probing the remote LCD readout's USB connector with a voltmeter indicates that pin 1 is connected to the positive side of the battery (3V) and that pin 4 is connected to the negative side of the battery (ground).&nbsp; A capture with an oscilloscope with the scale in operation connected to the remote LCD readout reveals 3V single-ended digital signals are present on pins 2 (red trace) and 3 (yellow trace).&nbsp; The signals occur in repetitive bursts that repeat approximately every 7 milliseconds or at a frequency of 143 Hz.<br>
	&nbsp;</p>
<p>
	Zooming in on one of the bursts shows the signal in more detail.&nbsp; There are 21 clock pulses on the red trace (pin 2) and a digital signal on the yellow trace (pin 3).&nbsp; By using our previous knowledge of Chinese scales, we can guess that the signal is a synchronous serial signal that gives the scale's position in binary with the least significant bit (LSB) first.&nbsp; This guess turns out to be correct.&nbsp; The Chinese scales send two 24 bit binary values with one being the absolute position and the other being the relative position each expressed as 20480 counts per inch (CPI).&nbsp; Given that we have a single 21 bit value, we can also guess that the single 21 bit value sent by the scale is an absolute position with 3 bits less precision to yield 2560 CPI (20480 / 2<sup>3</sup>).&nbsp; Again, this guess turns out to be correct.<br>
	<br>
	The last thing to determine is the source and speed of the clock signal.&nbsp; The oscilloscope trace shown at left gives us a clock speed of about 9 kHz which is much slower than a Chinese scale at around 90 kHz.&nbsp; In most <a href="http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus">synchronous serial</a> protocols, the entity that provides the clock is designated the master and the one that receives the clock is the slave.&nbsp; For Chinese protocols, the scale provides the clock so it is the master.&nbsp; By disconnecting the iGaging scale from the remote LCD readout, we find that the remote LCD readout is providing the clock so the scale is a slave.&nbsp; This difference means that the DRO/DPU-550 with OpenDRO must provide an appropriate clock to the scale if it takes the place of the remote LCD readout.</p><div class="links"><div class="item-list"><ul class="pager"><li class="pager-first first"><a href="http://www.shumatech.com/web/21bit_protocol?page=0,0" title="Go to first page" class="active">« first</a></li>
<li class="pager-previous"><a href="http://www.shumatech.com/web/21bit_protocol?page=0,0" title="Go to previous page" class="active">‹ previous</a></li>
<li class="pager-item"><a href="http://www.shumatech.com/web/21bit_protocol?page=0,0" title="Go to page 1" class="active">1</a></li>
<li class="pager-current">2</li>
<li class="pager-item"><a href="http://www.shumatech.com/web/21bit_protocol?page=0,2" title="Go to page 3" class="active">3</a></li>
<li class="pager-item"><a href="http://www.shumatech.com/web/21bit_protocol?page=0,3" title="Go to page 4" class="active">4</a></li>
<li class="pager-item"><a href="http://www.shumatech.com/web/21bit_protocol?page=0,4" title="Go to page 5" class="active">5</a></li>
<li class="pager-next"><a href="http://www.shumatech.com/web/21bit_protocol?page=0,2" title="Go to next page" class="active">next ›</a></li>
<li class="pager-last last"><a href="http://www.shumatech.com/web/21bit_protocol?page=0,4" title="Go to last page" class="active">last »</a></li>
</ul></div></div>  </div>

  <div class="clear-block">
    <div class="meta">
        </div>

      </div>

</div>
          </div>
                    <div id="footer"><p>Copyright (C) 2004-2014 ShumaTech.</p></div>
      </div></div></div></div> <!-- /.left-corner, /.right-corner, /#squeeze, /#center -->

      
    </div> <!-- /container -->
  </div>
<!-- /layout -->

    

</body></html>